package in.Ashokit.service;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;

import in.Ashokit.Binding.Courses;
import in.Ashokit.Binding.Student;
import in.Ashokit.feign.Coursefeign;
import in.Ashokit.feign.Studentclient;
@Service
public class EnrollmentService {
	 private final Studentclient studentClient;
	    private final Coursefeign courseClient;

	    @Autowired
	    public EnrollmentService(Studentclient studentClient, Coursefeign courseClient) {
	        this.studentClient = studentClient;
	        this.courseClient = courseClient;
	    }
	    
	    
	    public void enrollStudentInCourse(Long studentId, Long courseId) {
	        // Get student and course details
	         ResponseEntity<Optional<Student>> getstudent = studentClient.getstudent(courseId);
	        ResponseEntity<Optional<Courses>> getbyid = courseClient.getbyid(courseId);

	        // Check if student and course exist
	        if (getstudent.getBody().isEmpty() || getbyid.getBody().isEmpty()) {
	            throw new IllegalArgumentException("Student or course not found");
	        }


	        // Check if student is already enrolled in the course
	    }
	    
}
