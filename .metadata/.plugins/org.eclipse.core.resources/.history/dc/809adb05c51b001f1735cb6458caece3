package in.Ashokit.service;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;

import in.Ashokit.Binding.Courses;
import in.Ashokit.Binding.Student;
import in.Ashokit.feign.Coursefeign;
import in.Ashokit.feign.Studentclient;
@Service
public class EnrollmentService {
	 private final Studentclient studentClient;
	    private final Coursefeign courseClient;

	    @Autowired
	    public EnrollmentService(Studentclient studentClient, Coursefeign courseClient) {
	        this.studentClient = studentClient;
	        this.courseClient = courseClient;
	    }
	    
	    
	    
	        
	    	 public void enrollStudentInCourse(Long studentId, Long courseId) {
	    	        ResponseEntity<Optional<Student>> getstudent = studentClient.getstudent(studentId);
	    	       ResponseEntity<Optional<Courses>> getbyid = courseClient.getbyid(courseId);

	    	        if (getstudent == null || getbyid == null) {
	    	            throw new IllegalArgumentException("Student or course not found");
	    	        }
	    	       
	    	    }
}
